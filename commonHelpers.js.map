{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["export const fetchBreeds = function () {\n  return fetch(\n    'https://api.thecatapi.com/v1/breeds?api_key=live_JBV67LISgv2ukmTbv0ljH9XRgowj3QdbFJmCIkpvj5kTitSzayNI1LDTecM7YPf7'\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n\nexport const fetchCatByBreed = function (breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_JBV67LISgv2ukmTbv0ljH9XRgowj3QdbFJmCIkpvj5kTitSzayNI1LDTecM7YPf7`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","import axios from 'axios';\nimport { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\n// axios.defaults.headers.common['x-api-key'] =\n//   'live_JBV67LISgv2ukmTbv0ljH9XRgowj3QdbFJmCIkpvj5kTitSzayNI1LDTecM7YPf7';\n\nconst elements = {\n  select: document.querySelector('.breed-select'),\n  messageLoader: document.querySelector('.loader'),\n  messageError: document.querySelector('.error'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nelements.select.addEventListener('change', setBreed);\n\nelements.select.style.display = 'none';\nelements.messageError.style.display = 'none';\nelements.catInfo.style.display = 'none';\n\nloading();\n\nfunction loading() {\n  fetchBreeds()\n    .then(data => {\n      console.log(data);\n      elements.messageLoader.style.display = 'block';\n      makeOption(data);\n      elements.messageLoader.style.display = 'none';\n      elements.select.style.display = 'block';\n    })\n    .catch(\n      err => (\n        (elements.messageError.style.display = 'block'),\n        (elements.messageLoader.style.display = 'none')\n      )\n    );\n}\n\nfunction makeOption(data) {\n  const option = data\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  elements.select.insertAdjacentHTML('beforeend', option);\n}\n\nfunction setBreed(event) {\n  const selectedOptionValue = event.currentTarget.value;\n  fetchCatByBreed(selectedOptionValue)\n    .then(data => {\n      elements.messageLoader.style.display = 'block';\n      renderInfo(data);\n    })\n    .catch(\n      err => (\n        (elements.messageError.style.display = 'block'),\n        (elements.messageLoader.style.display = 'none')\n      )\n    );\n}\n\nfunction renderInfo(data) {\n  elements.messageLoader.style.display = 'none';\n  elements.catInfo.style.display = 'block';\n  console.log(data);\n}\n"],"names":["fetchBreeds","response","fetchCatByBreed","breedId","elements","setBreed","loading","data","makeOption","err","option","id","name","event","selectedOptionValue","renderInfo"],"mappings":"ssBAAO,MAAMA,EAAc,UAAY,CACrC,OAAO,MACL,mHACJ,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,EAEaC,EAAkB,SAAUC,EAAS,CAChD,OAAO,MACL,wDAAwDA,iFAC5D,EAAI,KAAKF,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,ECbMG,EAAW,CACf,OAAQ,SAAS,cAAc,eAAe,EAC9C,cAAe,SAAS,cAAc,SAAS,EAC/C,aAAc,SAAS,cAAc,QAAQ,EAC7C,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEAA,EAAS,OAAO,iBAAiB,SAAUC,CAAQ,EAEnDD,EAAS,OAAO,MAAM,QAAU,OAChCA,EAAS,aAAa,MAAM,QAAU,OACtCA,EAAS,QAAQ,MAAM,QAAU,OAEjCE,IAEA,SAASA,GAAU,CACjBN,EAAa,EACV,KAAKO,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChBH,EAAS,cAAc,MAAM,QAAU,QACvCI,EAAWD,CAAI,EACfH,EAAS,cAAc,MAAM,QAAU,OACvCA,EAAS,OAAO,MAAM,QAAU,OACtC,CAAK,EACA,MACCK,IACGL,EAAS,aAAa,MAAM,QAAU,QACtCA,EAAS,cAAc,MAAM,QAAU,OAEhD,CACA,CAEA,SAASI,EAAWD,EAAM,CACxB,MAAMG,EAASH,EACZ,IAAI,CAAC,CAAE,GAAAI,EAAI,KAAAC,KACH,kBAAkBD,MAAOC,YACjC,EACA,KAAK,EAAE,EACVR,EAAS,OAAO,mBAAmB,YAAaM,CAAM,CACxD,CAEA,SAASL,EAASQ,EAAO,CACvB,MAAMC,EAAsBD,EAAM,cAAc,MAChDX,EAAgBY,CAAmB,EAChC,KAAKP,GAAQ,CACZH,EAAS,cAAc,MAAM,QAAU,QACvCW,EAAWR,CAAI,CACrB,CAAK,EACA,MACCE,IACGL,EAAS,aAAa,MAAM,QAAU,QACtCA,EAAS,cAAc,MAAM,QAAU,OAEhD,CACA,CAEA,SAASW,EAAWR,EAAM,CACxBH,EAAS,cAAc,MAAM,QAAU,OACvCA,EAAS,QAAQ,MAAM,QAAU,QACjC,QAAQ,IAAIG,CAAI,CAClB"}